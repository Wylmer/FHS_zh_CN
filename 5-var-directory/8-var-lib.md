## /var/lib：可变状态信息

###  5.8.1. 用途

这一层次结构保存属于某个应用程序或系统的状态信息。状态信息是程序运行时会修改的和属于某个特定主机的信息。禁止用户修改`/var/lib`中的信息来配置软件包的操作方式。

状态信息通常用来保持一个（或一组内部相关的）应用程序多次调用和不同实例之间的状态。通常重启后状态信息应该依然有效，不应该是日志输出，并且不应该是spool数据。

一个应用程序（或一组内部相关的应用程序）必须使用`/var/lib`下的一个子文件夹来保存其数据。规定了一个`/var/lib/misc`文件夹用作保存不需要子文件夹的状态文件；其他子文件夹只有该发行版中有相关的应用程序时才可以出现[^3]。

`/var/lib/<name>`是必须用于所有发行版打包支持的位置。当然，不同的发行版可以用不同的位置。

### 5.8.2 要求

`/var/lib`下要求有如下文件夹或符号链接：

文件夹	|描述
--------|-------------------
misc	|混杂的状态数据

### 5.8.3 特殊选项

如果安装了相应子系统，`/var/lib`下必须有以下文件夹或符号链接：

文件夹	|描述
--------|-------------------------------------
&lt;editor&gt;	|编辑器备份文件和状态（可选）
&lt;pkgtool&gt;	|打包支持文件（可选）
&lt;package&gt;	|包和子系统的状态数据（可选）
hwclock	|Hwclock的状态文件夹（可选）
Xdm	|X显示管理器可变数据（可选）

### 5.8.4. /var/lib/<editor>：编辑器备份文件和状态（可选）

#### 5.8.4.1. 用途

这些文件夹保存了任何意外终止的编辑器（如`elvis`、`jove`、`nvi`）所产生的文件。其他编辑器可能不需要一个崩溃恢复文件的文件夹，但需要一个定义好的地方来保存运行时的其他信息。这类信息应该保存在`/var/lib`下的子文件夹中（如GNU Emacs应将锁文件放 在`/var/lib/emacs/lock`中）。

未来的编辑器可能需要崩溃恢复文件和锁文件之外的其他状态信息，那类信息也应该放置在`/var/lib/<editor>`下。

> #### 基础知识

> 以前的Linux发行版及所有商业厂商使用`/var/preserve`来保存`vi`及其衍生版的状态文件。然而，每个编辑器使用自有格式的崩溃-恢复文件，因而也各自需要一个单独的文件夹。

> 编辑器特定的锁文件通常与保存在`/var/lock`中的设备或资源锁文件有很大不同，它们保存在`/var/lib`。

### 5.8.5. /var/lib/hwclock：hwclock的状态文件夹（可选）

####5.8.5.1. 用途

这一文件夹存放`/var/lib/hwclock/adjtime`文件。

> #### 基础知识

> 在FHS2.1中，该文件为`/etc/adjtime`，但`hwclock`程序对此作了发动，原来的文件已不适用。

### 5.8.6. /var/lib/misc：杂类变量数据

#### 5.8.6.1. 用途

此文件夹包含未放在`/var/lib`中子文件夹下的变量数据。应该在该文件夹中尽量使用相对独特的文件名，以防名字空间冲突[^4]。

---
[^3]: 此版的标准与以前版本一个很重要的不同点是要求应用程序使用/var/lib下的子文件夹。
[^4]: 这一层次结构应该包含当前BSD发行版中保存在`/var/db`下的文件。它们包括`locate.Database`和`mountdtab`及内核符号数据库。

