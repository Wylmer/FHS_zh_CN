## /var/lock：锁文件

### 5.9.1. 用途

锁文件应该保存在`/var/lock`文件夹结构中。

由多个应用程序共享的设备锁或其他资源锁文件，如以前放在`/usr/spool/locks`或`/usr/spool/uucp`下的串口设备锁文件，现在必须保存在`/var/lock`中。必须使用“`LCK..`”后跟设备的基本名称的命令惯例，例如，要锁定`/dev/ttyS0`，应该创建名为“`LCK..ttyS0`”的文件[^5]。

这些锁文件的内容格式必须为 HDB UUCP 锁文件格式。HDB 格式将进程标识（PID）以10字节的 ASCII 十进制数字形式保存，后面跟一个换行符。例如，如果进程1230持有一个锁文件，该文件会包含11个字符：空格、空格、空格、空格、空格、空格、空格、1、2、3、0和换行。

---
[^5]: 然后，任何想要使用`/dev/ttyS0`的对象都可以读取这个锁文件并作出相应的反应（`/var/lock`下的所有文件都必须是全局可读的）。

