## /var/cache：应用程序缓存数据

### 5.5.1. 用途
`/var/cache`用于放置来自应用程序的缓存数据。这些数据是本地计算机上耗时的I/O操作或计算生成的。应用程序必须能够重新生成或还原这些数据。与`/var/spool`不同，应时的缓存文件可以删除，不会有数据损失。在两次调用该应用程序或重启系统间这些数据必须一直有效。

位于`/var/cache`下的文件可能在应用程序的某种特殊行为中、或被系统管理员标记为过期，或者兼有这两种情况。该应用程序必须总是有能力恢复被手动删除（通常是因为磁盘空间不足）的这些文件。对这些缓存文件夹的数据格式没有其他要求。

> #### 基础知识

> 留出一个单独的文件夹给缓存数据，系统管理员就可以对它采取与/var其他文件夹不同的磁盘和备份策略。

### 5.5.2. 特殊选项

文件夹	|描述
--------|-------------------------------
fonts	|本地生成的字体（可选）
man	|本地格式化的手册页（可选）
www	|WWW代理或缓存数据（可选）
&lt;package&gt;	|包特定的缓存数据（可选）

### 5.5.3. /var/cache/fonts：本地生成的字体（可选）

#### 5.5.3.1. 用途

`/var/cache/fonts`应该用来保存任何动态创建的字体。尤其是所有`mktexpk`自动生成的字体必须放在`/var/cache/fonts`下相应名称的子文件夹中[^1]。

#### 5.5.3.2. 特殊选项

其他动态创建的字体也应该放在此文件夹树中、`/var/cache/fonts`中相应名称的子文件夹下。

### 5.5.4. /var/cache/man：本地格式化的手册页（可选）

#### 5.5.4.1. 用途

此文件夹为使用只读`/usr`分区、而想允许缓存本地格式化的手册页的站点提供了一个标准位置。以可写方式挂载`/usr`的站点（如单用户的系统）可以不使用`/var/cache/man`，而是将格式化的手册页直接写入`/usr/share/man`下的`cat<section>`文件夹中。我们建议多数站点转而使用以下选项之一：
- 将所有手册页与未格式化的手册页一起格式化。
- 不允许缓存格式化手册页，并要求每次提供手册页时必须完成格式化。
- 允许在/var/cache/man中本地缓存格式化的手册页。

`/var/cache/man`的结构需要既要反映多种手册页层次结构的状况，也要反映支持多种语言的可能性。
如果未格式化的手册页正常情况下出现在`<path>/man/<locale>/man<section>`中，则放置格式化的手册页的文件夹是`/var/cache/man<catpath>/locale>/cat<section>`，其中`<catpath>`是从`<path>`中移除路径名中任何前导的`/usr`和`/`或尾随的`share`部分得到的[^2]。（注意可能丢失<locale>部分。）

写入`/var/cache/man`中的手册页最终可能被转移到源`man`层次结构中相应的预格式化文件夹中，或者丢弃；类似的，在源`man`层次结构中的格式化手册页也可能在一段时间不访问后作废。

如果预格式化的手册页是在只读媒质上带有的（如CD-ROM上），必须将它们安装到源`man`层次结构中（如`/usr/share/man/cat<sections>`）。`/var/cache/man`是预留作可写的格式化手册页缓存区的。

> #### 基础知识

> 本标准的1.2版为此层次结构规定了`/var/catman`路径。把该路径移到`/var/cache`是为了更好地反映格式化手册页的动态属性。文件夹名改成了`man`，以改进该层次结构来容纳“cat”之外的其他处理过的格式，如PostScript、HTML或DVI。

---
[^1]: 本标准目前没有吸纳TeX文件夹结构（一篇描述TeX文件和文件夹布局的文档），但读读它也许有用。它位于[ftp:/ctan.tug.org/tex/](ftp:/ctan.tug.org/tex/)。
[^2]: 如，`/usr/share/man/man1/ls.1`格式化为`/var/cache/man/cat1/ls.1`，而`/usr/X11R6/man/<locale>/man3/XtClass.3x`格式化为 `/var/cache/man/X11R6/<locale>/cat3/XtClass.3x`。
