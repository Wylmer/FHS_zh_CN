## /etc：主机特定的系统配置

### 3.7.1. 用途

`/etc`层次结构包含了**配置文件**。“**配置文件**”是一个用于控制程序操作的本地文件；它必须是静态文件而且不能是可执行的二进制文件[^4]。


### 3.7.2. 要求

`/etc`下面不能放置二进制文件[^5]。


`/etc`下应该有以下文件夹或指向相应文件夹的符号链接：

文件夹	|描述
--------|-------------------
opt	|`/opt`的配置
X11	|X窗口系统的配置（可选）
sgml	|SGML的配置（可选）
xml	|XML的配置（可选）

### 3.7.3.特殊选项

如果安装了相应子系统，`/etc`下必须有以下文件夹或指向文件夹的符号链接：

文件夹	|描述
--------|--------------
opt	|`/opt`的配置

如果如果安装了相应的子系统，/etc下必须有以下文件或符号链接[^6]：

文件	|描述
--------|-------------------------------------------------
csh.login	|系统范围的C shell登录初始化文件（可选）
exports	|NFS文件系统访问控制表（可选）
fstab	|文件系统的静态信息（可选）
ftpusers	|FTP后台服务用户访问控制表（可选）
gateways	|路由用的网关列表文件（可选）
gettydefs	|`getty`用的速率和终端设置（可选）
group	|用户组文件（可选）
host.conf	|解析器配置文件（可选）
hosts	|有关主机名的静态信息（可选）
hosts.allow	|TCP wrapper的主机访问文件（可选）
hosts.deny	|TCP wrapper的主机访问文件（可选）
hosts.equiv	|`rlogin`、`rsh`、`rcp`的信任主机表（可选）
hosts.lpd	|`lpd`的信任主机表（可选）
inetd.conf	|`inetd`的配置文件（可选）
inittab	|`init`的配置文件（可选）
issue	|预登录消息和认证文件（可选）
ld.so.conf	|搜索共享库的附加文件夹列表（可选）
motd	|当天的登录后消息文件（可选）
mtab	|文件系统的动态信息（可选）
mtools.conf	|`mtools`的配置文件（可选）
networks	|网络名称的静态信息（可选）
passwd	|密码文件（可选）
printcap	|`lpd`打印机功能数据库（可选）
profile	|系统范围的sh shell登录初始化文件（可选）
protocols	|IP 协议列表（可选）
Resolv.conf	|解析器配置文件（可选）
rpc	|RPC协议列表（可选）
securetty	|root登录的TTY访问控制（可选）
services	|网络服务的端口名称（可选）
shells	|有效的登录shell的路径名称（可选）
Syslog.conf	|`syslogd`的配置文件（可选）

`mtab`不符合`/etc`的静态特性：保留它是因为历史原因[^7]。


### 3.7.4./etc/opt：/opt的配置文件

#### 3.7.4.1.用途

对于外部应用程序软件包的主机特定配置文件必须安装在`/etc/opt/<subdir>`中，这里`<subdir>`指`/opt`中保存该软件包的子树名称。

#### 3.7.4.2. 要求

对`/etc/opt/<subdir>`中的内部分配方式没有结构上的要求。

如果为了使软件包或系统正常工作，某个配置文件必须旋转在另外的地方，可以将它放置在`/etc/opt/<subdir>`以外的地方。

> #### 基础知识

> 参见`/opt`的基础知识介绍。

### 3.7.5./etc/X11：X窗口系统的配置文件（可选）

#### 3.7.5.1. 用途

`/etc/X11`是放置所有X11主机特定配置的地方。为了允许在`/usr`以只读方式挂载的情况下进行本地控制，必需这个文件夹。

#### 3.7.5.2.特殊选项

如果安装了相应子系统，`/etc/X11`中必须有以下文件或链接：

文件	|描述
--------|------------------------------------------
Xconfig	|早期XFree86版本的配置文件（可选）
XF86Config	|XFree86第3版或第4版的配置文件（可选）
Xmodmap	|全局X11键盘修改文件（可选）

`/etc/X11`的子文件夹可以包含`xdm`的及其他程序（如一些窗口管理器）需要的文件[^8]。


我们建议窗口管理器默认情况下只使用一个配置文件。`*wmrc`文件必须命名为`system.*wmrc`（除非另有一个被广泛接受的名称），并且不要使用子文件夹。任何窗口管理器的子文件夹必须根据实际的窗口管理器二进制文件清楚地命名。

### 3.7.6./etc/sgml：SGML的配置文件（可选）

#### 3.7.6.1. 用途

定义了SGML系统高级参数的通用配置文件安装在这里。名称为`*.conf`的文件代表通用的配置文件。名为`*.cat`的文件是DTD特定的集中索引，包含了对所有其他使用给定DTD所需要的文件引用。超级索引文件`catalog`引用了所有集中索引文件。

### 3.7.7./etc/xml:XML的配置文件（可选）

#### 3.7.7.1.用途

定义了XML系统高级参数的通用配置文件安装在这里。名称为`*.conf`的文件代表通用的配置文件。超级索引文件`catalog`引用了所有集中索引文件。

---
[^4]: 启动时触发的命令脚本的设置可能会使用System V、BSD 或其他模式。标准以后可能会增加这部分的细节规范。
[^5]: 我们建议将文件保存在/etc下的子文件夹中，而非直接保存在`/etc`下。
[^6]: 使用影子密码机制的系统将在`/etc`下生成其他的配置文件（`/etc/shadow`和其他文件）以及生成`/usr/sbin`下的其他程序（`usradd`、`usrmod`和其他程序）
[^7]: 在一些Linux系统中，这可能是指向`/proc/mounts`的符号链接，此时不需要这种例外。
[^8]: `/etc/X11/xdm`保存了`xdm`的配置文件。它们多为以前`/usr/lib/X11/xdm`下的文件。一些`xdm`的本地变量数据保存在`/var/lib/xdm`中。

